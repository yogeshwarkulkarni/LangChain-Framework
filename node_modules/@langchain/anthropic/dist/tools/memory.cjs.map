{"version":3,"file":"memory.cjs","names":["options?: MemoryTool20250818Options","Memory20250818CommandSchema"],"sources":["../../src/tools/memory.ts"],"sourcesContent":["import Anthropic from \"@anthropic-ai/sdk\";\nimport { tool } from \"@langchain/core/tools\";\nimport type { DynamicStructuredTool, ToolRuntime } from \"@langchain/core/tools\";\n\nimport {\n  Memory20250818CommandSchema,\n  type MemoryTool20250818Options,\n  type Memory20250818Command,\n} from \"./types.js\";\n\n/**\n * Creates an Anthropic memory tool that can be used with ChatAnthropic.\n *\n * The memory tool enables Claude to store and retrieve information across conversations\n * through a memory file directory. Claude can create, read, update, and delete files that\n * persist between sessions, allowing it to build knowledge over time without keeping\n * everything in the context window.\n *\n * @example\n * ```typescript\n * import { ChatAnthropic, memory_20250818 } from \"@langchain/anthropic\";\n *\n * const llm = new ChatAnthropic({\n *   model: \"claude-sonnet-4-5-20250929\"\n * });\n *\n * const memory = memory_20250818({\n *   execute: async (args) => {\n *     // handle memory command execution\n *     // ...\n *   },\n * });\n * const llmWithMemory = llm.bindTools([memory]);\n *\n * const response = await llmWithMemory.invoke(\"Remember that I like Python\");\n * ```\n *\n * @param options - Optional configuration for the memory tool (currently unused)\n * @param options.execute - Optional execute function that handles memory command execution.\n * @returns The memory tool object that can be passed to `bindTools`\n *\n * @see https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/memory-tool\n */\nexport function memory_20250818(options?: MemoryTool20250818Options) {\n  const memoryTool = tool(\n    options?.execute as (\n      input: unknown,\n      runtime: ToolRuntime<unknown, unknown>\n    ) => string | Promise<string>,\n    {\n      name: \"memory\",\n      schema: Memory20250818CommandSchema,\n    }\n  );\n\n  memoryTool.extras = {\n    ...(memoryTool.extras ?? {}),\n    providerToolDefinition: {\n      type: \"memory_20250818\",\n      name: \"memory\",\n    } satisfies Anthropic.Beta.BetaMemoryTool20250818,\n  };\n\n  return memoryTool as DynamicStructuredTool<\n    typeof Memory20250818CommandSchema,\n    Memory20250818Command,\n    unknown,\n    string | Promise<string>\n  >;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,SAAgB,gBAAgBA,SAAqC;CACnE,MAAM,8CACJ,SAAS,SAIT;EACE,MAAM;EACN,QAAQC;CACT,EACF;CAED,WAAW,SAAS;EAClB,GAAI,WAAW,UAAU,CAAE;EAC3B,wBAAwB;GACtB,MAAM;GACN,MAAM;EACP;CACF;AAED,QAAO;AAMR"}