{"version":3,"file":"types.d.cts","names":["InteropZodObject","InteropZodDefault","InteropZodOptional","InferInteropZodInput","InferInteropZodOutput","InteropZodToStateDefinition","AnnotationRoot","StateSchema","InferStateSchemaUpdate","StateDefinitionInit","AIMessage","SystemMessage","ToolMessage","ToolCall","Command","ClientTool","ServerTool","JumpToTarget","Runtime","AgentBuiltInState","ModelRequest","PromiseOrValue","T","Promise","AnyAnnotationRoot","MiddlewareTypeConfig","TSchema","TContextSchema","TFullContext","TTools","DefaultMiddlewareTypeConfig","NormalizedSchemaInput","InferSchemaInput","MiddlewareResult","TState","ToolCallRequest","TContext","Record","ToolCallHandler","WrapToolCallHook","WrapModelCallHandler","Omit","WrapModelCallHook","BeforeAgentHandler","Partial","BeforeAgentHook","BeforeModelHandler","BeforeModelHook","AfterModelHandler","AfterModelHook","AfterAgentHandler","AfterAgentHook","MIDDLEWARE_BRAND","AgentMiddleware","FilterPrivateProps","K","ResolveMiddlewareTypeConfig","Types","InferMiddlewareType","InferMiddlewareSchema","InferMiddlewareContextSchema","InferMiddlewareFullContext","InferMiddlewareToolsFromConfig","InferChannelType","ToAnnotationRoot","InferMiddlewareState","InferMiddlewareInputState","InferMiddlewareStates","First","Rest","InferMiddlewareInputStates","InferMergedState","InferMergedInputState","InferMiddlewareContext","InferMiddlewareContextInput","Inner","InferMiddlewareContexts","MergeContextTypes","A","B","InferMiddlewareContextInputs","InferContextInput","ContextSchema","TFields"],"sources":["../../../src/agents/middleware/types.d.ts"],"sourcesContent":["import type { InteropZodObject, InteropZodDefault, InteropZodOptional, InferInteropZodInput, InferInteropZodOutput } from \"@langchain/core/utils/types\";\nimport type { InteropZodToStateDefinition } from \"@langchain/langgraph/zod\";\nimport type { AnnotationRoot, StateSchema, InferStateSchemaUpdate, StateDefinitionInit } from \"@langchain/langgraph\";\nimport type { AIMessage, SystemMessage, ToolMessage } from \"@langchain/core/messages\";\nimport type { ToolCall } from \"@langchain/core/messages/tool\";\nimport type { Command } from \"@langchain/langgraph\";\nimport type { ClientTool, ServerTool } from \"@langchain/core/tools\";\nimport type { JumpToTarget } from \"../constants.js\";\nimport type { Runtime, AgentBuiltInState } from \"../runtime.js\";\nimport type { ModelRequest } from \"../nodes/types.js\";\ntype PromiseOrValue<T> = T | Promise<T>;\nexport type AnyAnnotationRoot = AnnotationRoot<any>;\n/**\n * Type bag that encapsulates all middleware type parameters.\n *\n * This interface bundles all the generic type parameters used throughout the middleware system\n * into a single configuration object. This pattern simplifies type signatures and makes\n * it easier to add new type parameters without changing multiple function signatures.\n *\n * @typeParam TSchema - The middleware state schema type. Can be a `StateDefinitionInit`\n *   (including `InteropZodObject`, `StateSchema`, or `AnnotationRoot`) or `undefined`.\n *\n * @typeParam TContextSchema - The middleware context schema type. Can be an `InteropZodObject`,\n *   `InteropZodDefault`, `InteropZodOptional`, or `undefined`.\n *\n * @typeParam TFullContext - The full context type available to middleware hooks.\n *\n * @typeParam TTools - The tools array type registered by the middleware.\n *\n * @example\n * ```typescript\n * // Define a type configuration\n * type MyMiddlewareTypes = MiddlewareTypeConfig<\n *   typeof myStateSchema,\n *   typeof myContextSchema,\n *   MyContextType,\n *   typeof myTools\n * >;\n * ```\n */\nexport interface MiddlewareTypeConfig<TSchema extends StateDefinitionInit | undefined = StateDefinitionInit | undefined, TContextSchema extends InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined = InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined, TFullContext = any, TTools extends readonly (ClientTool | ServerTool)[] = readonly (ClientTool | ServerTool)[]> {\n    /** The middleware state schema type */\n    Schema: TSchema;\n    /** The middleware context schema type */\n    ContextSchema: TContextSchema;\n    /** The full context type */\n    FullContext: TFullContext;\n    /** The tools array type */\n    Tools: TTools;\n}\n/**\n * Default type configuration for middleware.\n * Used when no explicit type parameters are provided.\n */\nexport type DefaultMiddlewareTypeConfig = MiddlewareTypeConfig;\nexport type NormalizedSchemaInput<TSchema extends StateDefinitionInit | undefined | never = any> = [TSchema] extends [never] ? AgentBuiltInState : TSchema extends InteropZodObject ? InferInteropZodOutput<TSchema> & AgentBuiltInState : TSchema extends StateDefinitionInit ? InferSchemaInput<TSchema> & AgentBuiltInState : AgentBuiltInState;\n/**\n * Result type for middleware functions.\n */\nexport type MiddlewareResult<TState> = (TState & {\n    jumpTo?: JumpToTarget;\n}) | void;\n/**\n * Represents a tool call request for the wrapToolCall hook.\n * Contains the tool call information along with the agent's current state and runtime.\n */\nexport interface ToolCallRequest<TState extends Record<string, unknown> = Record<string, unknown>, TContext = unknown> {\n    /**\n     * The tool call to be executed\n     */\n    toolCall: ToolCall;\n    /**\n     * The BaseTool instance being invoked.\n     * Provides access to tool metadata like name, description, schema, etc.\n     *\n     * This will be `undefined` for dynamically registered tools that aren't\n     * declared upfront when creating the agent. In such cases, middleware\n     * should provide the tool implementation by spreading the request with\n     * the tool property.\n     *\n     * @example Dynamic tool handling\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   if (request.toolCall.name === \"dynamic_tool\" && !request.tool) {\n     *     // Provide the tool implementation for dynamically registered tools\n     *     return handler({ ...request, tool: myDynamicTool });\n     *   }\n     *   return handler(request);\n     * }\n     * ```\n     */\n    tool: ClientTool | ServerTool | undefined;\n    /**\n     * The current agent state (includes both middleware state and built-in state).\n     */\n    state: TState & AgentBuiltInState;\n    /**\n     * The runtime context containing metadata, signal, writer, interrupt, etc.\n     */\n    runtime: Runtime<TContext>;\n}\n/**\n * Handler function type for wrapping tool calls.\n * Takes a tool call request and returns the tool result or a command.\n */\nexport type ToolCallHandler<TSchema extends Record<string, unknown> = AgentBuiltInState, TContext = unknown> = (request: ToolCallRequest<TSchema, TContext>) => PromiseOrValue<ToolMessage | Command>;\n/**\n * Wrapper function type for the wrapToolCall hook.\n * Allows middleware to intercept and modify tool execution.\n */\nexport type WrapToolCallHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: ToolCallRequest<NormalizedSchemaInput<TSchema>, TContext>, handler: ToolCallHandler<NormalizedSchemaInput<TSchema>, TContext>) => PromiseOrValue<ToolMessage | Command>;\n/**\n * Handler function type for wrapping model calls.\n * Takes a model request and returns the AI message response.\n *\n * @param request - The model request containing model, messages, systemPrompt, tools, state, and runtime\n * @returns The AI message response from the model\n */\nexport type WrapModelCallHandler<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: Omit<ModelRequest<NormalizedSchemaInput<TSchema>, TContext>, \n/**\n * allow to reset the system prompt or system message\n */\n\"systemPrompt\" | \"systemMessage\"> & {\n    systemPrompt?: string;\n    systemMessage?: SystemMessage;\n}) => PromiseOrValue<AIMessage>;\n/**\n * Wrapper function type for the wrapModelCall hook.\n * Allows middleware to intercept and modify model execution.\n * This enables you to:\n * - Modify the request before calling the model (e.g., change system prompt, add/remove tools)\n * - Handle errors and retry with different parameters\n * - Post-process the response\n * - Implement custom caching, logging, or other cross-cutting concerns\n *\n * @param request - The model request containing all parameters needed for the model call\n * @param handler - The function that invokes the model. Call this with a ModelRequest to get the response\n * @returns The AI message response from the model (or a modified version)\n */\nexport type WrapModelCallHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: ModelRequest<NormalizedSchemaInput<TSchema>, TContext>, handler: WrapModelCallHandler<TSchema, TContext>) => PromiseOrValue<AIMessage | Command>;\n/**\n * Handler function type for the beforeAgent hook.\n * Called once at the start of agent invocation before any model calls or tool executions.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype BeforeAgentHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the beforeAgent lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called once at the start of the agent invocation.\n */\nexport type BeforeAgentHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = BeforeAgentHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: BeforeAgentHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the beforeModel hook.\n * Called before the model is invoked and before the wrapModelCall hook.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype BeforeModelHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the beforeModel lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called before each model invocation.\n */\nexport type BeforeModelHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = BeforeModelHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: BeforeModelHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the afterModel hook.\n * Called after the model is invoked and before any tools are called.\n * Allows modifying the agent state after model invocation, e.g., to update tool call parameters.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype AfterModelHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the afterModel lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called after each model invocation.\n */\nexport type AfterModelHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = AfterModelHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: AfterModelHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the afterAgent hook.\n * Called once at the end of agent invocation after all model calls and tool executions are complete.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype AfterAgentHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the afterAgent lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called once at the end of the agent invocation.\n */\nexport type AfterAgentHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = AfterAgentHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: AfterAgentHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Unique symbol used to brand middleware instances.\n * This prevents functions from being accidentally assignable to AgentMiddleware\n * since functions have a 'name' property that would otherwise make them structurally compatible.\n */\nexport declare const MIDDLEWARE_BRAND: unique symbol;\n/**\n * Base middleware interface.\n *\n * @typeParam TSchema - The middleware state schema type\n * @typeParam TContextSchema - The middleware context schema type\n * @typeParam TFullContext - The full context type available to hooks\n * @typeParam TTools - The tools array type registered by the middleware\n *\n * @example\n * ```typescript\n * const middleware = createMiddleware({\n *   name: \"myMiddleware\",\n *   stateSchema: z.object({ count: z.number() }),\n *   tools: [myTool],\n * });\n * ```\n */\nexport interface AgentMiddleware<TSchema extends StateDefinitionInit | undefined = any, TContextSchema extends InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined = any, TFullContext = any, TTools extends readonly (ClientTool | ServerTool)[] = readonly (ClientTool | ServerTool)[]> {\n    /**\n     * Brand property to distinguish middleware instances from plain objects or functions.\n     * This is required and prevents accidental assignment of functions to middleware arrays.\n     */\n    readonly [MIDDLEWARE_BRAND]: true;\n    /**\n     * Type marker for extracting the MiddlewareTypeConfig from a middleware instance.\n     * This is a phantom property used only for type inference.\n     * @internal\n     */\n    readonly \"~middlewareTypes\"?: MiddlewareTypeConfig<TSchema, TContextSchema, TFullContext, TTools>;\n    /**\n     * The name of the middleware.\n     */\n    name: string;\n    /**\n     * The schema of the middleware state. Middleware state is persisted between multiple invocations. It can be either:\n     * - A Zod object (InteropZodObject)\n     * - A StateSchema from LangGraph (supports ReducedValue, UntrackedValue)\n     * - An AnnotationRoot\n     * - Undefined\n     */\n    stateSchema?: TSchema;\n    /**\n     * The schema of the middleware context. Middleware context is read-only and not persisted between multiple invocations. It can be either:\n     * - A Zod object\n     * - A Zod optional object\n     * - A Zod default object\n     * - Undefined\n     */\n    contextSchema?: TContextSchema;\n    /**\n     * Additional tools registered by the middleware.\n     */\n    tools?: TTools;\n    /**\n     * Wraps tool execution with custom logic. This allows you to:\n     * - Modify tool call parameters before execution\n     * - Handle errors and retry with different parameters\n     * - Post-process tool results\n     * - Implement caching, logging, authentication, or other cross-cutting concerns\n     * - Return Command objects for advanced control flow\n     *\n     * The handler receives a ToolCallRequest containing the tool call, state, and runtime,\n     * along with a handler function to execute the actual tool.\n     *\n     * @param request - The tool call request containing toolCall, state, and runtime.\n     * @param handler - The function that executes the tool. Call this with a ToolCallRequest to get the result.\n     * @returns The tool result as a ToolMessage or a Command for advanced control flow.\n     *\n     * @example\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   console.log(`Calling tool: ${request.tool.name}`);\n     *   console.log(`Tool description: ${request.tool.description}`);\n     *\n     *   try {\n     *     // Execute the tool\n     *     const result = await handler(request);\n     *     console.log(`Tool ${request.tool.name} succeeded`);\n     *     return result;\n     *   } catch (error) {\n     *     console.error(`Tool ${request.tool.name} failed:`, error);\n     *     // Could return a custom error message or retry\n     *     throw error;\n     *   }\n     * }\n     * ```\n     *\n     * @example Authentication\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   // Check if user is authorized for this tool\n     *   if (!request.runtime.context.isAuthorized(request.tool.name)) {\n     *     return new ToolMessage({\n     *       content: \"Unauthorized to call this tool\",\n     *       tool_call_id: request.toolCall.id,\n     *     });\n     *   }\n     *   return handler(request);\n     * }\n     * ```\n     *\n     * @example Caching\n     * ```ts\n     * const cache = new Map();\n     * wrapToolCall: async (request, handler) => {\n     *   const cacheKey = `${request.tool.name}:${JSON.stringify(request.toolCall.args)}`;\n     *   if (cache.has(cacheKey)) {\n     *     return cache.get(cacheKey);\n     *   }\n     *   const result = await handler(request);\n     *   cache.set(cacheKey, result);\n     *   return result;\n     * }\n     * ```\n     */\n    wrapToolCall?: WrapToolCallHook<TSchema, TFullContext>;\n    /**\n     * Wraps the model invocation with custom logic. This allows you to:\n     * - Modify the request before calling the model\n     * - Handle errors and retry with different parameters\n     * - Post-process the response\n     * - Implement custom caching, logging, or other cross-cutting concerns\n     *\n     * @param request - The model request containing model, messages, systemPrompt, tools, state, and runtime.\n     * @param handler - The function that invokes the model. Call this with a ModelRequest to get the response.\n     * @returns The response from the model (or a modified version).\n     *\n     * @example\n     * ```ts\n     * wrapModelCall: async (request, handler) => {\n     *   // Modify request before calling\n     *   const modifiedRequest = { ...request, systemPrompt: \"You are helpful\" };\n     *\n     *   try {\n     *     // Call the model\n     *     return await handler(modifiedRequest);\n     *   } catch (error) {\n     *     // Handle errors and retry with fallback\n     *     const fallbackRequest = { ...request, model: fallbackModel };\n     *     return await handler(fallbackRequest);\n     *   }\n     * }\n     * ```\n     */\n    wrapModelCall?: WrapModelCallHook<TSchema, TFullContext>;\n    /**\n     * The function to run before the agent execution starts. This function is called once at the start of the agent invocation.\n     * It allows to modify the state of the agent before any model calls or tool executions.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    beforeAgent?: BeforeAgentHook<TSchema, TFullContext>;\n    /**\n     * The function to run before the model call. This function is called before the model is invoked and before the `wrapModelCall` hook.\n     * It allows to modify the state of the agent.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    beforeModel?: BeforeModelHook<TSchema, TFullContext>;\n    /**\n     * The function to run after the model call. This function is called after the model is invoked and before any tools are called.\n     * It allows to modify the state of the agent after the model is invoked, e.g. to update tool call parameters.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    afterModel?: AfterModelHook<TSchema, TFullContext>;\n    /**\n     * The function to run after the agent execution completes. This function is called once at the end of the agent invocation.\n     * It allows to modify the final state of the agent after all model calls and tool executions are complete.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    afterAgent?: AfterAgentHook<TSchema, TFullContext>;\n}\n/**\n * Helper type to filter out properties that start with underscore (private properties)\n */\ntype FilterPrivateProps<T> = {\n    [K in keyof T as K extends `_${string}` ? never : K]: T[K];\n};\n/**\n * Helper type to resolve a MiddlewareTypeConfig from either:\n * - A MiddlewareTypeConfig directly\n * - An AgentMiddleware instance (using `typeof middleware`)\n */\nexport type ResolveMiddlewareTypeConfig<T> = T extends {\n    \"~middlewareTypes\"?: infer Types;\n} ? Types extends MiddlewareTypeConfig ? Types : never : T extends MiddlewareTypeConfig ? T : never;\n/**\n * Helper type to extract any property from a MiddlewareTypeConfig or AgentMiddleware.\n *\n * @typeParam T - The MiddlewareTypeConfig or AgentMiddleware to extract from\n * @typeParam K - The property key to extract (\"Schema\" | \"ContextSchema\" | \"FullContext\" | \"Tools\")\n */\nexport type InferMiddlewareType<T, K extends keyof MiddlewareTypeConfig> = ResolveMiddlewareTypeConfig<T>[K];\n/**\n * Shorthand helper to extract the Schema type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareSchema<T> = InferMiddlewareType<T, \"Schema\">;\n/**\n * Shorthand helper to extract the ContextSchema type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareContextSchema<T> = InferMiddlewareType<T, \"ContextSchema\">;\n/**\n * Shorthand helper to extract the FullContext type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareFullContext<T> = InferMiddlewareType<T, \"FullContext\">;\n/**\n * Shorthand helper to extract the Tools type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareToolsFromConfig<T> = InferMiddlewareType<T, \"Tools\">;\nexport type InferChannelType<T extends AnyAnnotationRoot | InteropZodObject> = T extends AnyAnnotationRoot ? ToAnnotationRoot<T>[\"State\"] : T extends InteropZodObject ? InferInteropZodInput<T> : {};\n/**\n * Helper type to infer the state schema type from a middleware\n * This filters out private properties (those starting with underscore)\n * Supports both Zod schemas (InteropZodObject) and StateSchema from LangGraph\n */\nexport type InferMiddlewareState<T extends AgentMiddleware> = T extends AgentMiddleware<infer TSchema, any, any, any> ? TSchema extends InteropZodObject ? FilterPrivateProps<InferInteropZodOutput<TSchema>> : TSchema extends StateDefinitionInit ? FilterPrivateProps<InferSchemaInput<TSchema>> : {} : {};\n/**\n * Helper type to infer the input state schema type from a middleware (all properties optional)\n * This filters out private properties (those starting with underscore)\n * Supports both Zod schemas (InteropZodObject) and StateSchema from LangGraph\n */\nexport type InferMiddlewareInputState<T extends AgentMiddleware> = T extends AgentMiddleware<infer TSchema, any, any, any> ? TSchema extends InteropZodObject ? FilterPrivateProps<InferInteropZodInput<TSchema>> : TSchema extends StateDefinitionInit ? FilterPrivateProps<InferSchemaInput<TSchema>> : {} : {};\n/**\n * Helper type to infer merged state from an array of middleware (just the middleware states)\n */\nexport type InferMiddlewareStates<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareState<First> & InferMiddlewareStates<Rest> : InferMiddlewareState<First> : {} : {};\n/**\n * Helper type to infer merged input state from an array of middleware (with optional defaults)\n */\nexport type InferMiddlewareInputStates<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareInputState<First> & InferMiddlewareInputStates<Rest> : InferMiddlewareInputState<First> : {} : {};\n/**\n * Helper type to infer merged state from an array of middleware (includes built-in state)\n */\nexport type InferMergedState<T extends readonly AgentMiddleware[]> = InferMiddlewareStates<T> & AgentBuiltInState;\n/**\n * Helper type to infer merged input state from an array of middleware (includes built-in state)\n */\nexport type InferMergedInputState<T extends readonly AgentMiddleware[]> = InferMiddlewareInputStates<T> & AgentBuiltInState;\n/**\n * Helper type to infer the context schema type from a middleware\n */\nexport type InferMiddlewareContext<T extends AgentMiddleware> = T extends AgentMiddleware<any, infer TContextSchema, any, any> ? TContextSchema extends InteropZodObject ? InferInteropZodInput<TContextSchema> : {} : {};\n/**\n * Helper type to infer the input context schema type from a middleware (with optional defaults)\n */\nexport type InferMiddlewareContextInput<T extends AgentMiddleware> = T extends AgentMiddleware<any, infer TContextSchema, any, any> ? TContextSchema extends InteropZodOptional<infer Inner> ? InferInteropZodInput<Inner> | undefined : TContextSchema extends InteropZodObject ? InferInteropZodInput<TContextSchema> : {} : {};\n/**\n * Helper type to infer merged context from an array of middleware\n */\nexport type InferMiddlewareContexts<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareContext<First> & InferMiddlewareContexts<Rest> : InferMiddlewareContext<First> : {} : {};\n/**\n * Helper to merge two context types, preserving undefined unions\n */\ntype MergeContextTypes<A, B> = [A] extends [undefined] ? [B] extends [undefined] ? undefined : B | undefined : [B] extends [undefined] ? A | undefined : [A] extends [B] ? A : [B] extends [A] ? B : A & B;\n/**\n * Helper type to infer merged input context from an array of middleware (with optional defaults)\n */\nexport type InferMiddlewareContextInputs<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? MergeContextTypes<InferMiddlewareContextInput<First>, InferMiddlewareContextInputs<Rest>> : InferMiddlewareContextInput<First> : {} : {};\n/**\n * Helper type to extract input type from context schema (with optional defaults)\n */\nexport type InferContextInput<ContextSchema extends AnyAnnotationRoot | InteropZodObject> = ContextSchema extends InteropZodObject ? InferInteropZodInput<ContextSchema> : ContextSchema extends AnyAnnotationRoot ? ToAnnotationRoot<ContextSchema>[\"State\"] : {};\nexport type ToAnnotationRoot<A extends StateDefinitionInit> = A extends AnyAnnotationRoot ? A : A extends InteropZodObject ? InteropZodToStateDefinition<A> : never;\nexport type InferSchemaInput<A extends StateDefinitionInit | undefined> = A extends StateSchema<infer TFields> ? InferStateSchemaUpdate<TFields> : A extends InteropZodObject ? InferInteropZodOutput<A> : A extends AnyAnnotationRoot ? A[\"State\"] : {};\nexport {};\n//# sourceMappingURL=types.d.ts.map"],"mappings":"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"}